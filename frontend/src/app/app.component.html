<div class="app-container">
  
  <mat-toolbar class="header">
    <div class="header-left">
      <mat-icon class="logo" style="font-size: 30px; width: 25px; height: 30px;">apps</mat-icon> 
      <div class="app-title-container" style="font-size: 20px; font-weight: 500;">
        <span class="app-title-company">PromoProfi s.r.o.</span> |
        <span class="app-title-system" style="color: #c0c0c0; font-weight: 400;">CRM Systém</span>
      </div>
    </div>
    
    <div class="header-center">
      <button *ngIf="showBackButton" mat-icon-button (click)="goBack()">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <h1 class="page-title">{{ currentPageTitle }}</h1>
    </div>
    
    <div class="header-right">
      <div class="user-profile" *ngIf="isLoggedIn">
        <mat-icon class="user-icon">account_circle</mat-icon>
        <div class="user-info">
          <span class="user-name">{{ displayName }}</span>
          <span class="user-role">{{ displayRole }}</span>
        </div>
        <div class="user-actions">
          <button mat-button class="edit-profile-btn" (click)="editProfile()">
            <mat-icon>edit</mat-icon>
            Upraviť profil
          </button>
          <button mat-button class="logout-btn" (click)="logout()">
            <mat-icon>exit_to_app</mat-icon>
            Odhlásiť
          </button>
      </div>
      </div>
    </div>
  </mat-toolbar>

  <div class="content-container">
    
    <mat-sidenav-container class="sidenav-container">
      <mat-sidenav mode="side" opened class="sidenav" *ngIf="showSidenav">
        <mat-nav-list>
          <a mat-list-item routerLink="/firmy" routerLinkActive="active" *ngIf="userRole === roles.ADMIN || userRole === roles.OBCHODNIK">
            <mat-icon>business</mat-icon>
            <span>Firmy</span>
          </a>
          <a mat-list-item routerLink="/dodavatelia" routerLinkActive="active" *ngIf="userRole === roles.ADMIN || userRole === roles.SKLADNIK">
            <mat-icon>local_shipping</mat-icon>
            <span>Dodávatelia</span>
          </a>
          <a mat-list-item routerLink="/tovary" routerLinkActive="active" *ngIf="userRole === roles.ADMIN || userRole === roles.SKLADNIK">
            <mat-icon>inventory_2</mat-icon>
            <span>Tovary</span>
          </a>
          <a mat-list-item routerLink="/objednavky" routerLinkActive="active" *ngIf="userRole === roles.ADMIN || userRole === roles.OBCHODNIK">
            <mat-icon>shopping_cart</mat-icon>
            <span>Objednávky</span>
          </a>
        </mat-nav-list>
      </mat-sidenav>
      
      
      <mat-sidenav-content class="main-content">
        <router-outlet></router-outlet>
      </mat-sidenav-content>
    </mat-sidenav-container>
  </div>
</div>
